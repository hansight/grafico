<div class="modal" tabindex="-1" ng-controller="SystemEditorCtrl">
    <style>
        .list-group-item {
            border: 0;
            background-color: transparent;
        }
    </style>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="text-left">Data Sources</h4>
            </div>

            <div class="modal-body" style="padding:0;margin:0;height:400px;">
                <div class="pull-left col-md-2" style="background-color:#f5f5f5;position:relative; padding:0; height: 400px;">
                    <ul class="list-group" style="height:400px;overflow:auto;">
                        <li class="list-group-item" ng-repeat="datasource in datasources.sources"
                            ng-class="{'active':selectedDatasource == datasource}"
                            ng-click="$parent.selectedDatasource = datasource">{{datasource.name}}
                        </li>
                    </ul>

                    <div class="btn-group pull-right" style="position:absolute;top:400px;right:0;">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default btn-sm dropdown-toggle"
                                    data-toggle="dropdown" bs-tooltip="'Add one data source'"
                                    data-placement="bottom">
                                <span class='glyphicon-plus'></span>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a ng-repeat="type in datasources.types" ng-click="addSource(type)">{{type}}</a>
                                </li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-default btn-sm" ng-click="removeSelected()"
                                ng-disabled="_.isUndefined(selectedDatasource)" bs-tooltip="'Remove this data source'"
                                data-placement="bottom"><span class='glyphicon-minus'></span></button>
                    </div>

                </div>

                <div class="col-md-10">
                    <div ng-show="_.isUndefined(selectedDatasource)"><p class="large text-center">No data sources available,
                        please add one first.</p></div>
                    <div ng-repeat="datasource in datasources.sources"
                         ng-show="selectedDatasource == datasource"
                         ng-include src="'app/datasources/' + datasource.type + '/editor.html'" style="padding-top: 15px;">
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <button ng-show="true" ng-click="editSave(datasources);$hide();" class="btn btn-success"
                        ng-enabled="true">OK
                </button>
                <button type="button" class="btn" ng-click="$hide();">Cancel</button>
            </div>
        </div>
    </div>
</div>
